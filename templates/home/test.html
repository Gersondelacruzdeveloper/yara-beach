{% extends 'base2.html' %}
{% block title %}Best Excursions in Punta Cana | Punta Cana Discovery Tours {% endblock %}
{% block description %}Book the best Punta Cana excursions with Punta Cana Discovery, offering unforgettable guided tours, thrilling activities, and unique experiences in the Dominican Republic. {% endblock %}
{% load static %}

{% block content %}

<section>

    <h1 class="text-center mt-5 h1-title">Top Punta Cana Excursions for Unforgettable Experiences</h1>
    
    <section>
        <div class="card-container mt-5">
            {% for excursion in excursions %}
            <div class="card-wrapper" itemscope itemtype="https://schema.org/TouristTrip">
                <div class="image-container">
                <a class="position-relative" href="{% url 'excursion_detail' excursion.slugy %}">
                    <img id="itemImg" src="{{excursion.main_image.url}}" alt="Punta Cana beach tour - {{excursion.title}}" loading="lazy" itemprop="image">
                </a>
                {% if excursion.duration_time %}
                <span class="img_icon1 badge rounded-pill bg-warning text-dark">
                <i class="fa-solid fa-hourglass-start"></i> {{excursion.duration_time}} hours</span>
                {% endif %}
                {% if excursion.tour_guide %}
                <span class="img_icon2 badge rounded-pill bg-warning text-dark">
                <i class="fa-solid fa-user"></i> Tour Guide</span> 
                {% endif %}
                {% if excursion.transportation %}
                <span class="img_icon3  badge rounded-pill bg-warning text-dark">
                    <i class="fa-solid fa-van-shuttle"></i> Transportation</span>
                {% endif %}
             </div>
                <div class="card-title" itemprop="name">{{excursion.title|slice:":30"|title}}..</div>
                
                <!-- Reviews with Schema -->
                <div class="card-star" itemscope itemtype="https://schema.org/Review">
                    <meta itemprop="name" content="{{excursion.title}}"/>
                    <span itemprop="reviewRating" itemscope itemtype="https://schema.org/Rating">
                        <meta itemprop="ratingValue" content="5"/>
                        <i class="fa-star fa-solid"></i>
                        <i class="fa-star fa-solid"></i>
                        <i class="fa-star fa-solid"></i>
                        <i class="fa-star fa-solid"></i>
                        <i class="fa-star fa-solid"></i>
                    </span>
                    {% if excursion.reviews.count > 1 or excursion.reviews.count == 0 %}
                    <span itemprop="author"> {{excursion.reviews.count}} reviews</span>
                    {% else %}
                    <span itemprop="author"> {{excursion.reviews.count}} review</span>
                    {% endif %}
                </div>

                <!-- Price with Schema -->
                <div class="price" itemprop="offers" itemscope itemtype="https://schema.org/Offer">
                    <span itemprop="priceCurrency" content="USD">$</span><span itemprop="price">{{excursion.Price}}</span>
                </div>

                <div class="button_card">
                    <a href="{% url 'excursion_detail' excursion.slugy %}" class="btn my-button my_hover sear-btn btn-outline-secondary" itemprop="url">Book Now</a>
                    <a href="/blog/best-punta-cana-excursions" class="btn my-button my_hover sear-btn btn-outline-secondary">Read More About Punta Cana Tours</a>
                </div>

                <!-- Schema Markup for Excursion -->
                <script type="application/ld+json">
                {
                    "@context": "https://schema.org",
                    "@type": "TouristTrip",
                    "name": "{{ excursion.title }}",
                    "description": "{{ excursion.description }}",
                    "image": "{{ excursion.main_image.url }}",
                    "offers": {
                        "@type": "Offer",
                        "priceCurrency": "USD",
                        "price": "{{ excursion.Price }}",
                        "availability": "https://schema.org/InStock",
                        "url": "{% url 'excursion_detail' excursion.slugy %}"
                    },
                    "aggregateRating": {
                        "@type": "AggregateRating",
                        "ratingValue": "4.8",
                        "reviewCount": "{{ excursion.reviews.count }}"
                    },
                    "touristType": "International",
                    "provider": {
                        "@type": "Organization",
                        "name": "Punta Cana Discovery",
                        "url": "https://puntacanadiscovery.com"
                    }
                }
                </script>

            </div>
            {% endfor %}
        </div>

        <!-- Pagination with SEO-friendly URLs -->
        {% if counts > 8 %}
        <nav aria-label="Page navigation example">
            <ul class="pagination justify-content-center">
                {% if excursions.has_previous %}
                <li class="page-item">
                    <a class="page-link" href="/excursions/page/{{ excursions.previous_page_number }}">Previous</a>
                </li>
                {% else %}
                <li class="page-item disabled">
                    <div class="page-link" tabindex="-1" aria-disabled="true">Previous</div>
                </li>
                {% endif %}

                {% if excursions.number|add:'-4' > 1 %}
                <li class="page-item"><a class="page-link" href="/excursions/page/{{ excursions.number|add:'-5' }}">&hellip;</a></li>
                {% endif %}

                {% for i in excursions.paginator.page_range %}
                {% if excursions.number == i %}
                <li class="page-item active" aria-current="page">
                    <span class="page-link">{{ i }}<span class="sr-only">(current)</span></span>
                </li>
                {% elif i > excursions.number|add:'-5' and i < excursions.number|add:'5' %}
                <li class="page-item"><a class="page-link" href="/excursions/page/{{ i }}">{{ i }}</a></li>
                {% endif %}
                {% endfor %}

                {% if excursions.paginator.num_pages > excursions.number|add:'4' %}
                <li class="page-item"><a class="page-link" href="/excursions/page/{{ excursions.number|add:'5' }}">&hellip;</a></li>
                {% endif %}

                {% if excursions.has_next %}
                <li class="page-item">
                    <a class="page-link" href="/excursions/page/{{ excursions.next_page_number }}">Next</a>
                </li>
                {% else %}
                <li class="page-item disabled">
                    <div class="page-link" tabindex="-1" aria-disabled="true">Next</div>
                </li>
                {% endif %}
            </ul>
        </nav>
        {% endif %}
    </section>

     <!-- Additional Content for SEO -->
    <section class="faq">
        <h2>Frequently Asked Questions</h2>
        
        <div class="faq-item">
            <button class="faq-question">What are the best excursions in Punta Cana?</button>
            <div class="faq-answer">
                <p>We offer a wide variety of exciting tours, including catamaran cruises, zip-lining adventures, and cultural excursions to nearby villages.</p>
            </div>
        </div>

        <div class="faq-item">
            <button class="faq-question">Are the excursions family-friendly?</button>
            <div class="faq-answer">
                <p>Yes, we have excursions suitable for all ages, including family-friendly packages with guided tours and safe transportation options.</p>
            </div>
        </div>

        <div class="faq-item">
            <button class="faq-question">How can I book an excursion?</button>
            <div class="faq-answer">
                <p>You can easily book any excursion through our website by clicking on the "Book Now" button for the specific excursion you're interested in.</p>
            </div>
        </div>

</section>

<script src="{% static 'js/faq.js' %}"></script>
</section>

{% endblock content %}

